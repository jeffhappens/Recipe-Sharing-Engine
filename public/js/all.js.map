{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(function() {\n\n\t// Animate alert windows off the screen\t\n\t$('.alert').delay(3500).slideUp(200);\n\n\t$('section.content .row').on('click', function() {\n\t\tvar recipeid = $(this).data('recipeid');\n\t\tvar slug = $(this).data('slug');\n\t\tvar href = '/recipes/'+recipeid+'/'+slug;\n\t\tlocation.href = href;\n\t})\n\n\n\t// Back to Top button animation\n\t$(window).scroll(function() {\n\t\tif($(this).scrollTop() > 250) {\n\t\t\t$('a.top').fadeIn();\n\t\t}\n\t\telse {\n\t\t\t$('a.top').fadeOut();\n\t\t}\n\t});\n\t$('a.top').click(function () {\n\t\t$(document.body).animate({scrollTop: 0}, 500);\n\t\treturn false;\n\t});\n\n\n\tfunction sendAlert(type,text) {\n\n\t\t$('<div/>', {\n\t\t\tclass: 'alert alert-' + type,\n\t\t\thtml: '<div class=\"container\">' + text + '</div>'\n\t\t})\n\t\t.appendTo('body')\n\t\t.fadeIn(200);\n\t\t// Remove the alert\n\t\tsetTimeout(function() {\n\t\t\t$('.alert').fadeOut(200, function() {\n\t\t\t\t$(this).remove();\n\t\t\t\t$('.overlay').fadeOut(200, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\t\t\t})\n\t\t}, 3000)\n\t}\n\n\n\t// This needs work\n\n\t$('.favorite-badge a').on('click', function(e) {\n\t\te.preventDefault();\n\n\t\tvar that = $(this);\n\t\tvar active = that.parent().hasClass('active');\t\t\n\t\tvar recipeid = that.data('recipeid');\n\n\t\tvar href = that.data('href');\n\t\t// Determine whether to fave or unfave\n\t\t// Active = has been faved, needs to be unfaved\n\n\t\tif(active)\n\t\t\tvar href = '/api/unfavorite/'+recipeid;\n\n\t\tvar strings = {\n\t\t\tadded: 'Recipe added to Favorites',\n\t\t\tremoved: 'Recipe removed from Favorites'\n\t\t};\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: href,\n\t\t\tdata: {\n\t\t\t\t_token: $('meta[name=_token]').attr('content'),\n\t\t\t\trecipeid: recipeid\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\n\t\t\t\tif(data.success) {\n\t\t\t\t\tthat.closest('.favorite-badge').toggleClass('active');\n\t\t\t\t\tsendAlert('info', strings.added)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthat.closest('.favorite-badge').toggleClass('active');\n\t\t\t\t\tsendAlert('info', strings.removed)\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\n\n\t// Unfave function for favorites view\n\t// Should be coupled into above function\n\t$('.unfavorite').on('click', function(e) {\n\t\te.preventDefault();\n\t\tvar that = $(this);\n\t\tvar recipeid = $(this).data('recipeid');\n\t\tvar csrftoken = $('meta[name=_token]').attr('content');\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/unfavorite/'+recipeid,\n\t\t\tdata: {\n\t\t\t\t_token: csrftoken,\n\t\t\t\t//recipeid: recipeid\n\t\t\t},\n\t\t\tsuccess: function(data) {\n\t\t\t\t// meh\n\t\t\t\tvar placeholder = '<div class=\"row\"><div class=\"col-md-12\"><h3>You have not favorited any recipes :(</h3><p><a class=\"btn btn-default\" href=\"/recipes\">Browse Recipes</a></p></div></div>';\n\t\t\t\tsendAlert('info','Item has been removed from your favorites');\n\t\t\t\t$(that).closest('.card').fadeOut(200, function() {\n\t\t\t\t\t$(that).closest('.card').remove();\n\t\t\t\t\tif( $('.card').length === 0) {\n\t\t\t\t\t\t$('<div/>', {\n\t\t\t\t\t\t\tclass: 'container',\n\t\t\t\t\t\t\thtml: placeholder\n\t\t\t\t\t\t}).appendTo('.main');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n});"],"sourceRoot":"/source/"}